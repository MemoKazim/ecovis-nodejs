<%-include("partials/header" , {title: title})-%>

<body>
  <div class="container-fluid position-relative d-flex p-0">
    <!-- Spinner Start -->
    <div
      id="spinner"
      class="show bg-dark position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
    >
      <div
        class="spinner-border text-primary"
        style="width: 3rem; height: 3rem"
        role="status"
      >
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <!-- Spinner End -->

    <!-- Sidebar Start -->
    <div class="sidebar pe-4 pb-3">
      <nav class="navbar bg-secondary navbar-dark">
        <a href="/" class="navbar-brand mx-4 mb-3">
          <h3 class="text-primary">
            <i class="fa fa-user-edit me-2"></i>Ecovis
          </h3>
        </a>
        <div class="d-flex align-items-center ms-4 mb-4">
          <div class="position-relative">
            <img
              class="rounded-circle"
              src="../images/admin.png"
              alt=""
              style="width: 40px; height: 40px"
            />
            <div
              class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1"
            ></div>
          </div>
          <div class="ms-3">
            <h6 class="mb-0">Admin</h6>
            <!-- <span>Admin</span> -->
          </div>
        </div>
        <%-include("partials/paths")-%>
      </nav>
    </div>
    <!-- Sidebar End -->

    <!-- Content Start -->
    <div class="content">
      <div class="col-sm-11 m-lg-4">
        <div class="bg-secondary rounded h-100 p-4">
          <h6 class="mb-4"><%-title-%> table</h6>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Surname</th>
                  <th scope="col">Email</th>
                  <th scope="col">Number</th>
                  <th scope="col">Message</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <%let counter = 1%> <%current.forEach((contact)=>{%>
                <tr>
                  <td
                    class="text-truncate"
                    style="max-width: 150px"
                    scope="row"
                  >
                    <%-counter-%>
                  </td>
                  <td class="text-truncate" style="max-width: 150px">
                    <%-contact.firstName-%>
                  </td>
                  <td class="text-truncate" style="max-width: 150px">
                    <%-contact.lastName-%>
                  </td>
                  <td class="text-truncate" style="max-width: 150px">
                    <%-contact.email-%>
                  </td>
                  <td class="text-truncate" style="max-width: 150px">
                    <%-contact.phoneNumber-%>
                  </td>
                  <td class="text-truncate" style="max-width: 150px">
                    <%-String(contact.message);-%>
                  </td>
                  <td>
                    <table class="table">
                      <tr>
                        <a
                          href="/admin/delete/Contact/<%=contact._id%>"
                          class="btn btn-danger m-1"
                          >Delete</a
                        >
                      </tr>
                      <tr>
                        <a
                          href="/admin/detail/Contact/<%=contact._id%>"
                          class="btn btn-info m-1"
                          >Details</a
                        >
                      </tr>
                    </table>
                  </td>
                </tr>
                <%counter = counter + 1; });%>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <%-include("partials/footer")-%>
    </div>
  </div>
</body>
